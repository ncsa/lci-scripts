ansible-playbook [core 2.14.18]
  config file = /root/Scheduler_installation_playbook/ansible.cfg
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3.9/site-packages/ansible
  ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections
  executable location = /bin/ansible-playbook
  python version = 3.9.25 (main, Jan 14 2026, 00:00:00) [GCC 11.5.0 20240719 (Red Hat 11.5.0-11)] (/usr/bin/python3)
  jinja version = 3.1.2
  libyaml = True
Using /root/Scheduler_installation_playbook/ansible.cfg as config file
Skipping callback 'default', as we already have a stdout callback.
Skipping callback 'minimal', as we already have a stdout callback.
Skipping callback 'oneline', as we already have a stdout callback.

PLAYBOOK: playbook-slurm-source-v2.yml *****************************************
2 plays in playbook-slurm-source-v2.yml

PLAY [Slurm Source Build - Head Node] ******************************************

TASK [Gathering Facts] *********************************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:21
ok: [lci-head-01-1]

TASK [Install Slurm build dependencies] ****************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:31
ok: [lci-head-01-1] => {"changed": false, "msg": "Nothing to do", "rc": 0, "results": []}

TASK [Create slurm group] ******************************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:68
ok: [lci-head-01-1] => {"changed": false, "gid": 600, "name": "slurm", "state": "present", "system": false}

TASK [Create slurm user] *******************************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:74
ok: [lci-head-01-1] => {"append": false, "changed": false, "comment": "", "group": 600, "home": "/opt/slurm", "move_home": false, "name": "slurm", "shell": "/bin/false", "state": "present", "uid": 600}

TASK [Create Slurm directories] ************************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:86
ok: [lci-head-01-1] => (item=/opt/slurm) => {"ansible_loop_var": "item", "changed": false, "gid": 1000, "group": "rocky", "item": "/opt/slurm", "mode": "0750", "owner": "slurm", "path": "/opt/slurm", "secontext": "system_u:object_r:usr_t:s0", "size": 112, "state": "directory", "uid": 600}
ok: [lci-head-01-1] => (item=/etc/slurm) => {"ansible_loop_var": "item", "changed": false, "gid": 600, "group": "slurm", "item": "/etc/slurm", "mode": "0755", "owner": "slurm", "path": "/etc/slurm", "secontext": "unconfined_u:object_r:etc_t:s0", "size": 71, "state": "directory", "uid": 600}
ok: [lci-head-01-1] => (item=/var/log/slurm) => {"ansible_loop_var": "item", "changed": false, "gid": 600, "group": "slurm", "item": "/var/log/slurm", "mode": "0755", "owner": "slurm", "path": "/var/log/slurm", "secontext": "unconfined_u:object_r:var_log_t:s0", "size": 47, "state": "directory", "uid": 600}
changed: [lci-head-01-1] => (item=/var/run/slurm) => {"ansible_loop_var": "item", "changed": true, "gid": 600, "group": "slurm", "item": "/var/run/slurm", "mode": "0755", "owner": "slurm", "path": "/var/run/slurm", "secontext": "unconfined_u:object_r:var_run_t:s0", "size": 40, "state": "directory", "uid": 600}
ok: [lci-head-01-1] => (item=/var/spool/slurmd.spool) => {"ansible_loop_var": "item", "changed": false, "gid": 600, "group": "slurm", "item": "/var/spool/slurmd.spool", "mode": "0755", "owner": "slurm", "path": "/var/spool/slurmd.spool", "secontext": "unconfined_u:object_r:var_spool_t:s0", "size": 6, "state": "directory", "uid": 600}
ok: [lci-head-01-1] => (item=/var/spool/slurm.state) => {"ansible_loop_var": "item", "changed": false, "gid": 600, "group": "slurm", "item": "/var/spool/slurm.state", "mode": "0755", "owner": "slurm", "path": "/var/spool/slurm.state", "secontext": "unconfined_u:object_r:var_spool_t:s0", "size": 4096, "state": "directory", "uid": 600}

TASK [Create log and pid files with proper ownership] **************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:102
changed: [lci-head-01-1] => (item=/var/log/slurm/slurmdbd.log) => {"ansible_loop_var": "item", "changed": true, "dest": "/var/log/slurm/slurmdbd.log", "gid": 600, "group": "slurm", "item": "/var/log/slurm/slurmdbd.log", "mode": "0644", "owner": "slurm", "secontext": "unconfined_u:object_r:var_log_t:s0", "size": 5612, "state": "file", "uid": 600}
changed: [lci-head-01-1] => (item=/var/log/slurm/slurmctld.log) => {"ansible_loop_var": "item", "changed": true, "dest": "/var/log/slurm/slurmctld.log", "gid": 600, "group": "slurm", "item": "/var/log/slurm/slurmctld.log", "mode": "0644", "owner": "slurm", "secontext": "system_u:object_r:var_log_t:s0", "size": 3190, "state": "file", "uid": 600}
changed: [lci-head-01-1] => (item=/var/log/slurm/slurmd.log) => {"ansible_loop_var": "item", "changed": true, "dest": "/var/log/slurm/slurmd.log", "gid": 600, "group": "slurm", "item": "/var/log/slurm/slurmd.log", "mode": "0644", "owner": "slurm", "secontext": "unconfined_u:object_r:var_log_t:s0", "size": 0, "state": "file", "uid": 600}
changed: [lci-head-01-1] => (item=/var/run/slurm/slurmdbd.pid) => {"ansible_loop_var": "item", "changed": true, "dest": "/var/run/slurm/slurmdbd.pid", "gid": 600, "group": "slurm", "item": "/var/run/slurm/slurmdbd.pid", "mode": "0644", "owner": "slurm", "secontext": "unconfined_u:object_r:var_run_t:s0", "size": 0, "state": "file", "uid": 600}

TASK [Generate MUNGE key if not exists] ****************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:118
ok: [lci-head-01-1] => {"changed": false, "cmd": ["create-munge-key"], "delta": null, "end": null, "msg": "Did not run command since '/etc/munge/munge.key' exists", "rc": 0, "start": null, "stderr": "", "stderr_lines": [], "stdout": "skipped, since /etc/munge/munge.key exists", "stdout_lines": ["skipped, since /etc/munge/munge.key exists"]}

TASK [Set MUNGE directory permissions] *****************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:123
ok: [lci-head-01-1] => (item=/etc/munge) => {"ansible_loop_var": "item", "changed": false, "gid": 987, "group": "munge", "item": "/etc/munge", "mode": "0700", "owner": "munge", "path": "/etc/munge", "secontext": "system_u:object_r:etc_t:s0", "size": 23, "state": "directory", "uid": 987}
ok: [lci-head-01-1] => (item=/var/lib/munge) => {"ansible_loop_var": "item", "changed": false, "gid": 987, "group": "munge", "item": "/var/lib/munge", "mode": "0700", "owner": "munge", "path": "/var/lib/munge", "secontext": "system_u:object_r:var_lib_t:s0", "size": 24, "state": "directory", "uid": 987}
ok: [lci-head-01-1] => (item=/var/log/munge) => {"ansible_loop_var": "item", "changed": false, "gid": 987, "group": "munge", "item": "/var/log/munge", "mode": "0700", "owner": "munge", "path": "/var/log/munge", "secontext": "system_u:object_r:var_log_t:s0", "size": 24, "state": "directory", "uid": 987}

TASK [Set MUNGE key permissions] ***********************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:135
ok: [lci-head-01-1] => {"changed": false, "gid": 987, "group": "munge", "mode": "0400", "owner": "munge", "path": "/etc/munge/munge.key", "secontext": "unconfined_u:object_r:etc_t:s0", "size": 1024, "state": "file", "uid": 987}

TASK [Enable and start MUNGE service] ******************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:142
ok: [lci-head-01-1] => {"changed": false, "enabled": true, "name": "munge", "state": "started", "status": {"AccessSELinuxContext": "system_u:object_r:systemd_unit_file_t:s0", "ActiveEnterTimestamp": "Fri 2026-02-20 17:30:42 CST", "ActiveEnterTimestampMonotonic": "17007595262", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "basic.target network.target system.slice sysinit.target systemd-journald.socket time-sync.target", "AllowIsolate": "no", "AssertResult": "yes", "AssertTimestamp": "Fri 2026-02-20 17:30:42 CST", "AssertTimestampMonotonic": "17007577902", "Before": "slurmctld.service shutdown.target multi-user.target slurmd.service slurmdbd.service", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "yes", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "17167000", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanFreeze": "yes", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Fri 2026-02-20 17:30:42 CST", "ConditionTimestampMonotonic": "17007577901", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/munge.service", "ControlGroupId": "11197", "ControlPID": "0", "CoredumpFilter": "0x33", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "MUNGE authentication service", "DevicePolicy": "auto", "Documentation": "\"man:munged(8)\"", "DynamicUser": "no", "EffectiveCPUs": "0-1", "EffectiveMemoryNodes": "0", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "228418", "ExecMainStartTimestamp": "Fri 2026-02-20 17:30:42 CST", "ExecMainStartTimestampMonotonic": "17007595237", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/sbin/munged ; argv[]=/usr/sbin/munged ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/sbin/munged ; argv[]=/usr/sbin/munged ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExitType": "main", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/usr/lib/systemd/system/munge.service", "FreezerState": "running", "GID": "987", "Group": "munge", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "2", "IOSchedulingPriority": "4", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "munge.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Fri 2026-02-20 17:30:42 CST", "InactiveExitTimestampMonotonic": "17007585402", "InvocationID": "b9266ec57bf644e491152f666907ab4b", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "8388608", "LimitMEMLOCKSoft": "8388608", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "30379", "LimitNPROCSoft": "30379", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "30379", "LimitSIGPENDINGSoft": "30379", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "228418", "ManagedOOMMemoryPressure": "auto", "ManagedOOMMemoryPressureLimit": "0", "ManagedOOMPreference": "none", "ManagedOOMSwap": "auto", "MemoryAccounting": "yes", "MemoryAvailable": "infinity", "MemoryCurrent": "1732608", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemoryPeak": "2232320", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAPolicy": "n/a", "Names": "munge.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "OnSuccessJobMode": "fail", "PIDFile": "/run/munge/munged.pid", "Perpetual": "no", "PrivateDevices": "no", "PrivateIPC": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProcSubset": "all", "ProtectClock": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectProc": "default", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "ReloadSignal": "1", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "on-abort", "RestartKillSignal": "15", "RestartUSec": "100ms", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "RuntimeRandomizedExtraUSec": "0", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Fri 2026-02-20 17:30:42 CST", "StateChangeTimestampMonotonic": "17007595262", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "2147483646", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "4", "TasksMax": "48607", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartFailureMode": "terminate", "TimeoutStartUSec": "1min 30s", "TimeoutStopFailureMode": "terminate", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "forking", "UID": "987", "UMask": "0022", "UnitFilePreset": "disabled", "UnitFileState": "enabled", "User": "munge", "UtmpMode": "init", "WantedBy": "multi-user.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}

TASK [Add Slurm to PATH] *******************************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:148
ok: [lci-head-01-1] => {"backup": "", "changed": false, "msg": ""}

TASK [Install MariaDB server] **************************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:158
ok: [lci-head-01-1] => {"changed": false, "msg": "Nothing to do", "rc": 0, "results": []}

TASK [Enable and start MariaDB] ************************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:163
ok: [lci-head-01-1] => {"changed": false, "enabled": true, "name": "mariadb", "state": "started", "status": {"AccessSELinuxContext": "system_u:object_r:mysqld_unit_file_t:s0", "ActiveEnterTimestamp": "Fri 2026-02-20 15:31:36 CST", "ActiveEnterTimestampMonotonic": "9861528621", "ActiveExitTimestamp": "Fri 2026-02-20 15:31:35 CST", "ActiveExitTimestampMonotonic": "9860866607", "ActiveState": "active", "After": "systemd-tmpfiles-setup.service system.slice network.target -.mount basic.target systemd-journald.socket tmp.mount sysinit.target", "AllowIsolate": "no", "AssertResult": "yes", "AssertTimestamp": "Fri 2026-02-20 15:31:35 CST", "AssertTimestampMonotonic": "9861239798", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "yes", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "1576039000", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanFreeze": "yes", "CanIsolate": "no", "CanReload": "no", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Fri 2026-02-20 15:31:35 CST", "ConditionTimestampMonotonic": "9861239795", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/mariadb.service", "ControlGroupId": "8683", "ControlPID": "0", "CoredumpFilter": "0x33", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "MariaDB 10.5 database server", "DevicePolicy": "auto", "Documentation": "\"man:mariadbd(8)\" https://mariadb.com/kb/en/library/systemd/", "DynamicUser": "no", "EffectiveCPUs": "0-1", "EffectiveMemoryNodes": "0", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "171717", "ExecMainStartTimestamp": "Fri 2026-02-20 15:31:35 CST", "ExecMainStartTimestampMonotonic": "9861326264", "ExecMainStatus": "0", "ExecStart": "{ path=/usr/libexec/mariadbd ; argv[]=/usr/libexec/mariadbd --basedir=/usr $MYSQLD_OPTS $_WSREP_NEW_CLUSTER ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/libexec/mariadbd ; argv[]=/usr/libexec/mariadbd --basedir=/usr $MYSQLD_OPTS $_WSREP_NEW_CLUSTER ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPost": "{ path=/usr/libexec/mariadb-check-upgrade ; argv[]=/usr/libexec/mariadb-check-upgrade ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPostEx": "{ path=/usr/libexec/mariadb-check-upgrade ; argv[]=/usr/libexec/mariadb-check-upgrade ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/usr/libexec/mariadb-prepare-db-dir ; argv[]=/usr/libexec/mariadb-prepare-db-dir mariadb.service ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPreEx": "{ path=/usr/libexec/mariadb-prepare-db-dir ; argv[]=/usr/libexec/mariadb-prepare-db-dir mariadb.service ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExitType": "main", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/usr/lib/systemd/system/mariadb.service", "FreezerState": "running", "GID": "27", "Group": "mysql", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "2", "IOSchedulingPriority": "4", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "mariadb.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Fri 2026-02-20 15:31:35 CST", "InactiveEnterTimestampMonotonic": "9861239280", "InactiveExitTimestamp": "Fri 2026-02-20 15:31:35 CST", "InactiveExitTimestampMonotonic": "9861247572", "InvocationID": "55495e8fa52a4f5a858ff17ce60501be", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "control-group", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "8388608", "LimitMEMLOCKSoft": "8388608", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "30379", "LimitNPROCSoft": "30379", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "30379", "LimitSIGPENDINGSoft": "30379", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "171717", "ManagedOOMMemoryPressure": "auto", "ManagedOOMMemoryPressureLimit": "0", "ManagedOOMPreference": "none", "ManagedOOMSwap": "auto", "MemoryAccounting": "yes", "MemoryAvailable": "infinity", "MemoryCurrent": "254156800", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemoryPeak": "254910464", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAPolicy": "n/a", "Names": "mariadb.service mysqld.service mysql.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "OnSuccessJobMode": "fail", "Perpetual": "no", "PrivateDevices": "no", "PrivateIPC": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "yes", "PrivateUsers": "no", "ProcSubset": "all", "ProtectClock": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectProc": "default", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "ReloadSignal": "1", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "-.mount sysinit.target system.slice", "RequiresMountsFor": "/var/tmp", "Restart": "on-abort", "RestartKillSignal": "15", "RestartUSec": "5s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "RuntimeRandomizedExtraUSec": "0", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "no", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Fri 2026-02-20 15:31:36 CST", "StateChangeTimestampMonotonic": "9861528621", "StateDirectoryMode": "0755", "StatusErrno": "0", "StatusText": "Taking your SQL requests now...", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "2147483646", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "10", "TasksMax": "48607", "TimeoutAbortUSec": "5min", "TimeoutCleanUSec": "infinity", "TimeoutStartFailureMode": "terminate", "TimeoutStartUSec": "5min", "TimeoutStopFailureMode": "terminate", "TimeoutStopUSec": "5min", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "27", "UMask": "0007", "UnitFilePreset": "disabled", "UnitFileState": "enabled", "User": "mysql", "UtmpMode": "init", "WantedBy": "multi-user.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}

TASK [Check if slurm database user exists] *************************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:172
fatal: [lci-head-01-1]: FAILED! => {"changed": false, "cmd": "mysql -e \"SELECT 1 FROM mysql.user WHERE user='slurm' AND host='localhost';\" 2>/dev/null | grep -q 1\n", "delta": "0:00:00.011637", "end": "2026-02-20 18:38:09.162975", "msg": "non-zero return code", "rc": 1, "start": "2026-02-20 18:38:09.151338", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
...ignoring

TASK [Create slurm_acct_db database and user] **********************************
task path: /root/Scheduler_installation_playbook/playbook-slurm-source-v2.yml:179
fatal: [lci-head-01-1]: FAILED! => {"changed": true, "cmd": "mysql <<'EOF'\nCREATE DATABASE IF NOT EXISTS slurm_acct_db;\nCREATE USER IF NOT EXISTS 'slurm'@'localhost' IDENTIFIED BY 'lcilab2026';\nGRANT ALL PRIVILEGES ON slurm_acct_db.* TO 'slurm'@'localhost';\nFLUSH PRIVILEGES;\nEOF\n", "delta": "0:00:00.010126", "end": "2026-02-20 18:38:09.393650", "msg": "non-zero return code", "rc": 1, "start": "2026-02-20 18:38:09.383524", "stderr": "ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)", "stderr_lines": ["ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)"], "stdout": "", "stdout_lines": []}

PLAY RECAP *********************************************************************
lci-head-01-1              : ok=14   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   

