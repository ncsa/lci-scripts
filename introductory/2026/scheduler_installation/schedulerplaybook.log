
PLAY [Head node Scheduler configuration] ***************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [slurm-user : Setting SLURM user, group] **********************************
included: /home/rocky/lci-scripts/introductory/2026/scheduler_installation/Scheduler_installation_playbook/roles/slurm-user/tasks/slurm-user.yml for localhost

TASK [slurm-user : Create slurm group] *****************************************
ok: [localhost]

TASK [slurm-user : Create the slurm user and add them to the slurm group] ******
ok: [localhost]

TASK [slurm-user : Setting SLURM directories] **********************************
included: /home/rocky/lci-scripts/introductory/2026/scheduler_installation/Scheduler_installation_playbook/roles/slurm-user/tasks/slurm-logs.yml for localhost

TASK [slurm-user : Create & change ownership of /var/spool/slurm directory] ****
ok: [localhost]

TASK [slurm-user : Create & change ownership of /var/spool/slurmctld directory] ***
ok: [localhost]

TASK [slurm-user : Create /var/spool/slurm/cluster_state directory] ************
ok: [localhost]

TASK [slurm-user : Create /var/log/slurm directory] ****************************
ok: [localhost]

TASK [slurm-rpm-build : Build pmix on the head node] ***************************
included: /home/rocky/lci-scripts/introductory/2026/scheduler_installation/Scheduler_installation_playbook/roles/slurm-rpm-build/tasks/pmix-rpm-build.yml for localhost

TASK [slurm-rpm-build : Install PMIx build dependencies] ***********************
ok: [localhost]

TASK [slurm-rpm-build : Checking to see if the pmix SRC RPM exists] ************
ok: [localhost]

TASK [slurm-rpm-build : If it does not exist, download it] *********************
changed: [localhost]

TASK [slurm-rpm-build : Checking to see if the pmix rpm have already been created] ***
ok: [localhost]

TASK [slurm-rpm-build : Building pmix rpms, this will skip if they are already built] ***
skipping: [localhost]

TASK [slurm-rpm-build : Install RPM on the head node] **************************
ok: [localhost]

TASK [slurm-rpm-build : Build and SLURM on the head node] **********************
included: /home/rocky/lci-scripts/introductory/2026/scheduler_installation/Scheduler_installation_playbook/roles/slurm-rpm-build/tasks/slurm-rpm-build.yml for localhost

TASK [slurm-rpm-build : Checking to see if the slurm .tar.bz2 file exists] *****
ok: [localhost]

TASK [slurm-rpm-build : If it does not exist, pull latest version of slurm down] ***
skipping: [localhost]

TASK [slurm-rpm-build : Checking to see if the slurm rpms have already been created] ***
ok: [localhost]

TASK [slurm-rpm-build : Building slurm rpms, this will skip if they are already built] ***
skipping: [localhost]

TASK [slurm-rpm-build : Copy RPM] **********************************************
included: /home/rocky/lci-scripts/introductory/2026/scheduler_installation/Scheduler_installation_playbook/roles/slurm-rpm-build/tasks/slurm-rpm-copy.yml for localhost

TASK [slurm-rpm-build : Copy the rpm files into slurmd/files] ******************
changed: [localhost] => (item=slurm-23.11.1-1.el9.x86_64.rpm)
changed: [localhost] => (item=slurm-perlapi-23.11.1-1.el9.x86_64.rpm)
changed: [localhost] => (item=slurm-slurmd-23.11.1-1.el9.x86_64.rpm)
changed: [localhost] => (item=slurm-libpmi-23.11.1-1.el9.x86_64.rpm)
changed: [localhost] => (item=pmix-4.2.8-1.el9.x86_64.rpm)

TASK [slurm-rpm-build : Install head node RPMs] ********************************
included: /home/rocky/lci-scripts/introductory/2026/scheduler_installation/Scheduler_installation_playbook/roles/slurm-rpm-build/tasks/slurm-rpm-inst.yml for localhost

TASK [slurm-rpm-build : Install RPMs on the head node] *************************
changed: [localhost] => (item=slurm-23.11.1-1.el9.x86_64.rpm)
changed: [localhost] => (item=slurm-example-configs-23.11.1-1.el9.x86_64.rpm)
changed: [localhost] => (item=slurm-slurmctld-23.11.1-1.el9.x86_64.rpm)
changed: [localhost] => (item=slurm-slurmdbd-23.11.1-1.el9.x86_64.rpm)
changed: [localhost] => (item=slurm-perlapi-23.11.1-1.el9.x86_64.rpm)
changed: [localhost] => (item=slurm-libpmi-23.11.1-1.el9.x86_64.rpm)
changed: [localhost] => (item=slurm-devel-23.11.1-1.el9.x86_64.rpm)

TASK [slurm-rpm-build : Copying slurm.conf into place with correct permissions] ***
changed: [localhost]

TASK [slurm-rpm-build : Copying slurmdbd.conf into place with correct permissions] ***
changed: [localhost]

TASK [slurm-rpm-build : Copying cgroup.conf into place with correct permissions] ***
changed: [localhost]

TASK [slurm-rpm-build : Copying mariadb-server.cnf into place] *****************
changed: [localhost]

TASK [head-node_munge_key : Install Munge through DNF] *************************
ok: [localhost]

TASK [head-node_munge_key : Check if the munge.key exists] *********************
ok: [localhost]

TASK [head-node_munge_key : Create munge.key] **********************************
changed: [localhost]

TASK [head-node_munge_key : Copy munge.key into /etc/munge] ********************
changed: [localhost]

TASK [head-node_munge_key : Restart munge service] *****************************
changed: [localhost]

TASK [slurmdbd : Restart mariadb service] **************************************
changed: [localhost]

TASK [slurmdbd : Create a new database named slurm_acct_db] ********************
fatal: [localhost]: FAILED! => {"changed": false, "msg": "unable to find /root/.my.cnf. Exception message: (1698, \"Access denied for user 'root'@'localhost'\")"}

PLAY RECAP *********************************************************************
localhost                  : ok=32   changed=11   unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   

